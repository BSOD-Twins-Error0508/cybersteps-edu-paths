Welcome to dynamic malware analysis.
Willkommen zur dynamischen Malware-Analyse.

In our last session, we looked at malware from a static perspective, examining its code and structure without running it.
In unserer letzten Sitzung haben wir Malware aus einer statischen Perspektive betrachtet und ihren Code sowie ihre Struktur untersucht, ohne sie auszuführen.

Now, it is time to take the next step: observing malware in action.
Nun ist es Zeit für den nächsten Schritt: Malware in Aktion zu beobachten.

Dynamic analysis, also known as behavioral analysis, is all about executing a malicious program in a controlled environment to see exactly what it does.
Die dynamische Analyse, auch bekannt als Verhaltensanalyse, dreht sich darum, ein schädliches Programm in einer kontrollierten Umgebung auszuführen, um genau zu sehen, was es tut.

This is often the most effective way to understand a malware sample's true purpose, especially when its code is designed to be unreadable.
Das ist oft der effektivste Weg, um den wahren Zweck einer Malware-Probe zu verstehen, besonders wenn ihr Code so gestaltet ist, dass er unlesbar ist.

What is Dynamic Analysis?
Was ist dynamische Analyse?

Static analysis is like reading the blueprints of a machine.
Die statische Analyse ist wie das Lesen der Baupläne einer Maschine.

You can learn a lot about its components and potential function, but you will not know for sure how it works or how it might fail until you turn it on.
Man kann viel über ihre Komponenten und mögliche Funktionen lernen, aber man weiß nicht sicher, wie sie funktioniert oder wie sie versagen könnte, bis man sie einschaltet.

Dynamic analysis is like powering up the machine, observing it in motion, and seeing how it actually behaves under real conditions.
Die dynamische Analyse ist wie das Einschalten der Maschine, das Beobachten in Bewegung und das Sehen, wie sie sich unter realen Bedingungen tatsächlich verhält.

Dynamic analysis allows us to detect: File System Changes.
Die dynamische Analyse ermöglicht es uns, Folgendes zu erkennen: Veränderungen im Dateisystem.

Does it create new files like a copy of itself in a hidden directory?
Erstellt es neue Dateien, wie eine Kopie von sich selbst in einem versteckten Verzeichnis?

Does it modify system files?
Verändert es Systemdateien?

Does it delete user files or backups?
Löscht es Benutzerdateien oder Backups?

A common ransomware behavior is to encrypt user documents and then delete the originals.
Ein typisches Verhalten von Ransomware ist es, Benutzerdokumente zu verschlüsseln und dann die Originale zu löschen.

Network Activity.
Netzwerkaktivität.

Does it try to connect to the internet?
Versucht es, sich mit dem Internet zu verbinden?

If so, where?
Falls ja, wohin?

This could be a call home to a Command and Control server to receive instructions or exfiltrate stolen data.
Das könnte ein Rückruf zu einem Command-and-Control-Server sein, um Anweisungen zu erhalten oder gestohlene Daten zu exfiltrieren.

We look for DNS requests to suspicious domains or traffic to known malicious IP addresses.
Wir suchen nach DNS-Anfragen an verdächtige Domains oder Traffic zu bekannten schädlichen IP-Adressen.

Registry Modifications.
Änderungen im Registry.

What changes does it make to the Windows Registry?
Welche Änderungen nimmt es am Windows-Registry vor?

The Registry is a massive database of configuration settings.
Das Registry ist eine riesige Datenbank mit Konfigurationseinstellungen.

Malware frequently modifies specific Registry keys, like HKCU\Software\Microsoft\Windows\CurrentVersion\Run, to ensure it automatically starts every time the computer boots up.
Malware verändert häufig spezifische Registry-Schlüssel, wie HKCU\Software\Microsoft\Windows\CurrentVersion\Run, um sicherzustellen, dass es automatisch bei jedem Computerstart gestartet wird.

This is a primary mechanism for achieving persistence.
Das ist ein primärer Mechanismus, um Persistenz zu erreichen.

Process Activity.
Prozessaktivität.

Does it launch other processes?
Startet es andere Prozesse?

A malware sample might inject its malicious code into a legitimate, trusted process like explorer.exe or svchost.exe to hide its activity.
Eine Malware-Probe könnte ihren schädlichen Code in einen legitimen, vertrauenswürdigen Prozess wie explorer.exe oder svchost.exe injizieren, um ihre Aktivität zu verbergen.

This technique is called process injection.
Diese Technik wird Prozessinjektion genannt.

The Sandbox: A Critical Safety Measure.
Die Sandbox: Eine entscheidende Sicherheitsmaßnahme.

This is the most important concept in dynamic analysis.
Das ist das wichtigste Konzept in der dynamischen Analyse.

You should never run a suspected malware sample on your personal machine or any machine connected to a trusted network.
Du solltest niemals eine verdächtige Malware-Probe auf deinem persönlichen Computer oder einem Computer ausführen, der mit einem vertrauenswürdigen Netzwerk verbunden ist.

The risk of infection, data loss, or network compromise is far too high.
Das Risiko einer Infektion, von Datenverlust oder Netzwerkkompromittierung ist viel zu hoch.

To perform dynamic analysis safely, we use a sandbox.
Um die dynamische Analyse sicher durchzuführen, verwenden wir eine Sandbox.

A sandbox is an isolated environment, typically a virtual machine, that is completely segregated from our host computer and any critical networks.
Eine Sandbox ist eine isolierte Umgebung, typischerweise eine virtuelle Maschine, die vollständig vom Host-Computer und allen kritischen Netzwerken getrennt ist.

Think of it as a digital padded room where the malware can do its worst without causing any real harm.
Stell sie dir als digitalen gepolsterten Raum vor, in dem die Malware ihr Schlimmstes tun kann, ohne echten Schaden anzurichten.

Start with a clean, uninfected virtual machine.
Beginne mit einer sauberen, nicht infizierten virtuellen Maschine.

Take a snapshot of this pristine state.
Nimm einen Snapshot von diesem unberührten Zustand.

Transfer the malware sample into the virtual machine.
Übertrage die Malware-Probe in die virtuelle Maschine.

Run the malware and perform the analysis.
Führe die Malware aus und führe die Analyse durch.

Once the analysis is complete, simply revert the virtual machine to the clean snapshot.
Sobald die Analyse abgeschlossen ist, setze die virtuelle Maschine einfach auf den sauberen Snapshot zurück.

Every change the malware made, every file created, every registry key modified, is instantly erased.
Jede Änderung, die die Malware vorgenommen hat, jede erstellte Datei, jeder geänderte Registry-Schlüssel wird sofort gelöscht.

The Spectrum of Dynamic Analysis.
Das Spektrum der dynamischen Analyse.

Dynamic analysis is not a single activity but a spectrum, ranging from automated high-level reports to deep, manual inspection.
Die dynamische Analyse ist keine einzelne Aktivität, sondern ein Spektrum, das von automatisierten High-Level-Berichten bis hin zu tiefer, manueller Inspektion reicht.

Automated Analysis.
Automatisierte Analyse.

At one end, we have automated sandboxes.
Am einen Ende haben wir automatisierte Sandboxes.

These are services like ANY.RUN, Joe Sandbox, or Hybrid Analysis that you can submit a file to.
Das sind Dienste wie ANY.RUN, Joe Sandbox oder Hybrid Analysis, denen du eine Datei einsenden kannst.

They automatically execute the malware in a heavily instrumented environment and produce a detailed report of its behavior, network connections, files dropped, registry keys changed, and a risk score.
Sie führen die Malware automatisch in einer stark instrumentierten Umgebung aus und erstellen einen detaillierten Bericht über ihr Verhalten, Netzwerkverbindungen, abgelegte Dateien, geänderte Registry-Schlüssel und einen Risikowert.

This is extremely fast and useful for quickly triaging a large number of samples.
Das ist extrem schnell und nützlich, um eine große Anzahl von Proben schnell zu triagieren.

The downside?
Der Nachteil?

Malware is often sandbox-aware and may not exhibit its true behavior if it detects it is being analyzed.
Malware ist oft sandbox-bewusst und zeigt möglicherweise nicht ihr wahres Verhalten, wenn sie erkennt, dass sie analysiert wird.

Manual Analysis.
Manuelle Analyse.

This is what we will focus on.
Darauf werden wir uns konzentrieren.

Here, the analyst uses a toolkit of monitoring utilities to observe the malware's behavior themselves.
Hier verwendet der Analyst ein Toolkit aus Überwachungsprogrammen, um das Verhalten der Malware selbst zu beobachten.

This is more time-consuming but can uncover behaviors that automated systems miss.
Das ist zeitaufwendiger, kann aber Verhaltensweisen aufdecken, die automatisierte Systeme übersehen.

It allows the analyst to interact with the malware, for example by providing fake network responses to trick it into revealing its next stage.
Es ermöglicht dem Analysten, mit der Malware zu interagieren, zum Beispiel indem er gefälschte Netzwerkantworten gibt, um sie dazu zu bringen, ihre nächste Stufe zu enthüllen.

Debugging.
Debugging.

This is the deepest and most complex form of dynamic analysis.
Das ist die tiefste und komplexeste Form der dynamischen Analyse.

Using a tool called a debugger, an analyst can step through the malware's code one instruction at a time as it executes.
Mit einem Tool namens Debugger kann ein Analyst den Code der Malware Anweisung für Anweisung durchlaufen, während er ausgeführt wird.

This gives unparalleled insight into the program's logic but requires a strong understanding of Assembly language and low-level system concepts.
Das gibt einen unvergleichlichen Einblick in die Logik des Programms, erfordert aber ein starkes Verständnis von Assembly-Sprache und Low-Level-Systemkonzepten.

Try it yourself.
Probiere es selbst aus.

