Welcome to Service Enumeration!
Willkommen zur Service-Enumeration!

In our last session, you learned how to perform active reconnaissance to discover live hosts and open ports using tools like nmap.
In unserer letzten Sitzung haben Sie gelernt, wie man aktive Reconnaissance durchführt, um live Hosts und offene Ports mit Tools wie nmap zu entdecken.

You found out what services are running, for example, SSH, HTTP.
Sie haben herausgefunden, welche Services laufen, zum Beispiel SSH, HTTP.

Now, we take the next logical step: figuring out as much as we can about those services.
Nun machen wir den nächsten logischen Schritt: so viel wie möglich über diese Services herauszufinden.

This process is called Service Enumeration.
Dieser Prozess wird Service Enumeration genannt.

Service enumeration is the phase where we interact with discovered services to gain more detailed information.
Service Enumeration ist die Phase, in der wir mit den entdeckten Services interagieren, um detailliertere Informationen zu erhalten.

This information can include usernames, software versions, configuration details, hidden directories, and user shares.
Diese Informationen können Benutzernamen, Softwareversionen, Konfigurationsdetails, versteckte Verzeichnisse und User-Shares umfassen.

The goal is to build a detailed map of the target's attack surface.
Das Ziel ist es, eine detaillierte Karte der Angriffsfläche des Ziels zu erstellen.

While nmap -sV gives you the service version, enumeration goes much deeper to find potential misconfigurations and vulnerabilities.
Während nmap -sV Ihnen die Service-Version liefert, geht die Enumeration viel tiefer, um potenzielle Fehlkonfigurationen und Schwachstellen zu finden.

Enumerating Web Servers (HTTP/HTTPS)
Enumeration von Web-Servern (HTTP/HTTPS)

Web servers are one of the most common services you'll encounter.
Web-Server sind einer der häufigsten Services, auf die Sie stoßen werden.

They are often complex and can have vulnerabilities ranging from outdated software to misconfigured directories.
Sie sind oft komplex und können Schwachstellen haben, die von veralteter Software bis zu fehlkonfigurierten Verzeichnissen reichen.

A primary step is to simply browse to the server's IP address.
Ein erster Schritt ist es, einfach zur IP-Adresse des Servers zu browsen.

But the real secrets are often hidden from view.
Aber die echten Geheimnisse sind oft versteckt.

Directory Brute-Forcing
Directory Brute-Forcing

Web servers often have hidden directories or files that are not linked from the main page, for example, /admin, /backups, /dev.
Web-Server haben oft versteckte Verzeichnisse oder Dateien, die nicht von der Hauptseite verlinkt sind, zum Beispiel /admin, /backups, /dev.

Finding these is critical.
Diese zu finden ist entscheidend.

We can automate this search using directory brute-forcing.
Wir können diese Suche mit Directory Brute-Forcing automatisieren.

Tools for this work by taking a large list of common directory and file names (a wordlist) and trying each one against the target server, noting which ones are found.
Tools dafür funktionieren, indem sie eine große Liste gängiger Verzeichnis- und Dateinamen (eine Wordlist) nehmen und jeden gegen den Zielserver ausprobieren, und notieren, welche gefunden werden.

gobuster is a popular tool for this.
Gobuster ist ein beliebtes Tool dafür.

It's fast and effective.
Es ist schnell und effektiv.

Before using it, make sure it's installed on your Kali VM: sudo apt update && sudo apt install gobuster -y
Bevor Sie es verwenden, stellen Sie sicher, dass es auf Ihrer Kali-VM installiert ist: sudo apt update && sudo apt install gobuster -y

The basic syntax is: gobuster dir -u <URL> -w <wordlist_path>.
Die grundlegende Syntax ist: gobuster dir -u <URL> -w <wordlist_path>.

A good starting wordlist is /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt.
Eine gute Start-Wordlist ist /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt.

Try it yourself: Find a Hidden Web Directory
Probieren Sie es selbst aus: Finden Sie ein verstecktes Web-Verzeichnis

Let's find a secret directory on a server you control.
Lassen Sie uns ein geheimes Verzeichnis auf einem Server finden, den Sie kontrollieren.

First, we'll create a simple web server on your Kali machine.
Zuerst erstellen wir einen einfachen Web-Server auf Ihrer Kali-Maschine.

1. Create a directory for your website: mkdir ~/my-web-server cd ~/my-web-server
2. Erstellen Sie ein Verzeichnis für Ihre Website: mkdir ~/my-web-server cd ~/my-web-server

3. Create a secret directory to find: mkdir ./secret-admin-panel
4. Erstellen Sie ein geheimes Verzeichnis zum Finden: mkdir ./secret-admin-panel

5. Start a simple Python web server.
6. Starten Sie einen einfachen Python-Web-Server.

This command serves the files in the current directory (~/my-web-server) on port 8000. python3 -m http.server 8000
Dieser Befehl serviert die Dateien im aktuellen Verzeichnis (~/my-web-server) auf Port 8000. python3 -m http.server 8000

4. Leave that terminal running.
5. Lassen Sie dieses Terminal laufen.

Open a new terminal and use gobuster to find the secret directory.
Öffnen Sie ein neues Terminal und verwenden Sie gobuster, um das geheime Verzeichnis zu finden.

Your own machine's local address is 127.0.0.1.
Die lokale Adresse Ihrer eigenen Maschine ist 127.0.0.1.

gobuster dir -u http://127.0.0.1:8000 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt
gobuster dir -u http://127.0.0.1:8000 -w /usr/share/wordlists/dirbuster/directory-list-2.3-medium.txt

Watch the output.
Beobachten Sie die Ausgabe.

gobuster should quickly find the /secret-admin-panel directory, demonstrating how easily these hidden pages can be discovered.
Gobuster sollte schnell das /secret-admin-panel-Verzeichnis finden und demonstrieren, wie leicht diese versteckten Seiten entdeckt werden können.

Enumerating SMB (Server Message Block)
Enumeration von SMB (Server Message Block)

Server Message Block (SMB) is a client-server communication protocol used for providing shared access to files, printers, and serial ports between nodes on a network.
Server Message Block (SMB) ist ein Client-Server-Kommunikationsprotokoll, das für den gemeinsamen Zugriff auf Dateien, Drucker und serielle Ports zwischen Knoten in einem Netzwerk verwendet wird.

Think of it as the engine behind Windows File Sharing.
Stellen Sie es sich als den Motor hinter Windows File Sharing vor.

If you find port 445 open during an nmap scan, it's almost certainly SMB.
Wenn Sie Port 445 während eines nmap-Scans offen finden, ist es fast sicher SMB.

From an attacker's perspective, SMB is a high-value target.
Aus der Sicht eines Angreifers ist SMB ein hochwertiges Ziel.

Because it is designed for resource sharing, a misconfigured SMB server can lead to a treasure trove of information, including:
Weil es für das Teilen von Ressourcen konzipiert ist, kann ein fehlkonfigurierter SMB-Server zu einem Schatz an Informationen führen, einschließlich:

Shared folders ("shares"): Access to potentially sensitive documents, backups, or application data.
Geteilte Ordner ("Shares"): Zugriff auf potenziell sensible Dokumente, Backups oder Anwendungsdaten.

Usernames: A list of valid users on the system or domain.
Benutzernamen: Eine Liste gültiger Benutzer im System oder in der Domäne.

Detailed system information: The exact version of the operating system, hostname, and domain information.
Detaillierte Systeminformationen: Die genaue Version des Betriebssystems, Hostname und Domäneninformationen.

Enumerating SNMP (Simple Network Management Protocol)
Enumeration von SNMP (Simple Network Management Protocol)

Simple Network Management Protocol (SNMP) is a protocol used by network administrators to monitor and manage devices on a network.
Simple Network Management Protocol (SNMP) ist ein Protokoll, das von Netzwerkadministratoren verwendet wird, um Geräte in einem Netzwerk zu überwachen und zu verwalten.

You will typically find it on routers, switches, printers, and servers running on UDP port 161.
Sie finden es typischerweise auf Routern, Switches, Druckern und Servern, die auf UDP-Port 161 laufen.

While it's a powerful tool for administrators, it can be an information goldmine for attackers if not configured securely.
Während es ein mächtiges Tool für Administratoren ist, kann es für Angreifer eine Informationsgoldmine sein, wenn es nicht sicher konfiguriert ist.

SNMP is often protected by a simple password known as a community string.
SNMP wird oft durch ein einfaches Passwort geschützt, das als Community String bekannt ist.

For historical reasons, many devices are configured with default, well-known community strings like public (read-only) and private (read-write).
Aus historischen Gründen sind viele Geräte mit Standard-Community-Strings konfiguriert, wie public (read-only) und private (read-write).

If you find an open SNMP port, your first step is always to check if it will respond to these default strings.
Wenn Sie einen offenen SNMP-Port finden, ist Ihr erster Schritt immer zu überprüfen, ob er auf diese Standard-Strings reagiert.

Try it yourself: Walk the SNMP Tree
Probieren Sie es selbst aus: Walk the SNMP Tree

Let's see how simple it is to query a device using snmpwalk, a standard tool for this task.
Lassen Sie uns sehen, wie einfach es ist, ein Gerät mit snmpwalk abzufragen, einem Standard-Tool für diese Aufgabe.

1. First, ensure you have the necessary tools installed on your Kali VM: sudo apt update && sudo apt install snmp -y
2. Stellen Sie zuerst sicher, dass die notwendigen Tools auf Ihrer Kali-VM installiert sind: sudo apt update && sudo apt install snmp -y

3. Now, run snmpwalk against the public test server demo.pysnmp.com.
4. Führen Sie nun snmpwalk gegen den öffentlichen Testserver demo.pysnmp.com aus.

This command attempts to "walk" the entire tree of information the server makes available via the public community string. snmpwalk -v2c -c public demo.pysnmp.com
Dieser Befehl versucht, den gesamten Baum der Informationen zu "walken", die der Server über den public Community String verfügbar macht. snmpwalk -v2c -c public demo.pysnmp.com

- v2c: Specifies SNMP version 2c, which is very common.
- v2c: Spezifiziert SNMP-Version 2c, die sehr verbreitet ist.

- c public: Sets the community string to public.
- c public: Setzt den Community String auf public.

3. You will see a large, raw data dump.
4. Sie werden einen großen, rohen Datendump sehen.

This is the raw information from the device, and scrolling through it can reveal hostnames, network interfaces, and more.
Das sind die rohen Informationen vom Gerät, und beim Scrollen können Hostnames, Netzwerkschnittstellen und mehr enthüllt werden.

Enumerating FTP (File Transfer Protocol)
Enumeration von FTP (File Transfer Protocol)

File Transfer Protocol (FTP) is an old and simple protocol for transferring files, typically found on TCP port 21.
File Transfer Protocol (FTP) ist ein altes und einfaches Protokoll zum Übertragen von Dateien, das typischerweise auf TCP-Port 21 zu finden ist.

While less common today, it's still found on many networks, especially with older equipment.
Obwohl es heute weniger verbreitet ist, findet man es immer noch in vielen Netzwerken, besonders bei älterer Ausrüstung.

Its most famous and critical weakness is allowing for anonymous access.
Seine berühmteste und kritischste Schwäche ist die Erlaubnis für anonymen Zugriff.

This misconfiguration allows any user to log in with the username anonymous and any password (or no password at all).
Diese Fehlkonfiguration erlaubt es jedem Benutzer, sich mit dem Benutzernamen anonymous und einem beliebigen Passwort (oder gar keinem) einzuloggen.

A successful anonymous login can expose sensitive files, old backups, or even credentials for other systems.
Ein erfolgreicher anonymer Login kann sensible Dateien, alte Backups oder sogar Credentials für andere Systeme freilegen.

This is one of the first and most important checks to perform when you discover an open FTP port on a target system.
Das ist einer der ersten und wichtigsten Checks, die Sie durchführen sollten, wenn Sie einen offenen FTP-Port auf einem Zielsystem entdecken.

Mastering these enumeration techniques for different services is the key to turning a simple list of open ports into actionable intelligence that leads to finding vulnerabilities.
Das Beherrschen dieser Enumeration-Techniken für verschiedene Services ist der Schlüssel, um eine einfache Liste offener Ports in handlungsrelevante Intelligence zu verwandeln, die zu Schwachstellen führt.

The slides for the live session can be viewed here: https://gamma.app/docs/Module-2-Week-1-Session-5-Service-Enumeration-3rwyph75ymuehw0?mode=doc
Die Slides für die Live-Session können hier angesehen werden: https://gamma.app/docs/Module-2-Week-1-Session-5-Service-Enumeration-3rwyph75ymuehw0?mode=doc