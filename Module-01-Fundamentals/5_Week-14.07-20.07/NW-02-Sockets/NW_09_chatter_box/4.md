# Chatter Box

_Can you get two clients talking through a central hub?_

**Goal**

Create a system consisting of one server script and one client script. The server should accept connections from exactly two clients. Once two clients are connected, any message received from one client should be immediately relayed (sent) to the other client. The clients should be able to send messages typed by the user and display messages received from the server.

**Instructions**

- **Server (`relay_server.py`):**
    - Must `bind`, `listen`, and `accept` two connections sequentially.
    - After two clients connect, it must continuously check both client sockets for incoming data.
    - Data received from Client 1 must be sent immediately to Client 2.
    - Data received from Client 2 must be sent immediately to Client 1.
    - Consider how to handle clients disconnecting or sending quit messages.
    - Think about using non-blocking sockets or timeouts (`socket.settimeout()`) to prevent the server from getting stuck waiting on one client while the other is sending data.
- **Client (`relay_client.py`):**
    - Must `connect` to the running server.
    - Must allow the user to type messages in the terminal.
    - Must display messages received from the server (which are relayed from the other client).
    - Needs a way to handle both sending user input and receiving server messages concurrently. Using `socket.settimeout()` in a loop or exploring the `select` module are possible approaches. Find a way that works.
    - Needs a mechanism for the user to quit gracefully (e.g., typing "/quit").
- **Testing:** Run the server, then run two instances of the client in separate terminals. Messages typed in one client terminal should appear in the other client's terminal, and vice-versa.

**Submission**

Submit your `relay_server.py` and `relay_client.py` scripts.

---
---

# Chatter Box

_Können Sie zwei Clients über einen zentralen Hub miteinander kommunizieren lassen?_

**Ziel**

Erstellen Sie ein System, das aus einem Server-Skript und einem Client-Skript besteht. Der Server sollte Verbindungen von genau zwei Clients akzeptieren. Sobald zwei Clients verbunden sind, sollte jede von einem Client empfangene Nachricht sofort an den anderen Client weitergeleitet (gesendet) werden. Die Clients sollten in der Lage sein, vom Benutzer eingegebene Nachrichten zu senden und vom Server empfangene Nachrichten anzuzeigen.

**Anweisungen**

- **Server (`relay_server.py`):**
- Muss zwei Verbindungen nacheinander `binden`, `abhören` und `akzeptieren`.
- Nachdem zwei Clients eine Verbindung hergestellt haben, muss er kontinuierlich beide Client-Sockets auf eingehende Daten überprüfen.
- Von Client 1 empfangene Daten müssen sofort an Client 2 gesendet werden.
    - Von Client 2 empfangene Daten müssen sofort an Client 1 gesendet werden.
- Überlegen Sie, wie mit Clients umgegangen werden soll, die die Verbindung trennen oder Quit-Nachrichten senden.
- Erwägen Sie die Verwendung von nicht blockierenden Sockets oder Timeouts (`socket.settimeout()`), um zu verhindern, dass der Server auf einen Client wartet, während der andere Daten sendet.
- **Client (`relay_client.py`):**
- Muss eine Verbindung zum laufenden Server herstellen (`connect`).
- Muss dem Benutzer ermöglichen, Nachrichten im Terminal einzugeben.
- Muss vom Server empfangene Nachrichten anzeigen (die vom anderen Client weitergeleitet werden).
    - Benötigt eine Möglichkeit, sowohl das Senden von Benutzereingaben als auch das Empfangen von Servermeldungen gleichzeitig zu verarbeiten. Die Verwendung von `socket.settimeout()` in einer Schleife oder die Untersuchung des Moduls `select` sind mögliche Ansätze. Finden Sie eine funktionierende Lösung.
- Benötigt einen Mechanismus, mit dem der Benutzer das Programm ordnungsgemäß beenden kann (z. B. durch Eingabe von „/quit“).
- **Testen:** Starten Sie den Server und führen Sie dann zwei Instanzen des Clients in separaten Terminals aus. In einem Client-Terminal eingegebene Nachrichten sollten im Terminal des anderen Clients angezeigt werden und umgekehrt.

**Einreichen**

Reichen Sie Ihre Skripte `relay_server.py` und `relay_client.py` ein.